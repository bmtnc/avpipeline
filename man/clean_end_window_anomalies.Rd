% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/clean_end_window_anomalies.R
\name{clean_end_window_anomalies}
\alias{clean_end_window_anomalies}
\title{Clean End-Window Anomalies Using Percentage Change Detection}
\usage{
clean_end_window_anomalies(
  data,
  metric_cols,
  end_window_size = 5,
  threshold = 3,
  min_observations = 10
)
}
\arguments{
\item{data}{Data frame with cleaned quarterly financial data (grouped by ticker)}

\item{metric_cols}{Character vector of column names to analyze for end-window anomalies}

\item{end_window_size}{Integer number of observations at the end to check for anomalies}

\item{threshold}{Numeric threshold multiplier for MAD detection on percentage changes}

\item{min_observations}{Integer minimum number of observations required for anomaly detection}
}
\value{
Data frame with end-window anomalies cleaned via forward fill
}
\description{
Applies a second stage of anomaly detection specifically targeting anomalies
in the end window of time series data. Calculates quarter-over-quarter percentage
changes, detects anomalies using MAD threshold, and only flags anomalies occurring
in the last N observations. Replaces flagged anomalies with forward-filled values.
}
